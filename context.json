{
  "files_to_modify": {
    "frontend": [
      ".env.example",
      "docs/ai-features.md",
      "README.md",
      "DOCKER_README.md"
    ]
  },
  "files_to_create": {
    "frontend": [
      "docs/environment-variables.md"
    ]
  },
  "files_to_reference": [
    "src/lib/ai.ts",
    "src/lib/db.ts",
    "docs/ai-features.md",
    "DOCKER_README.md",
    ".env.example"
  ],
  "patterns": {
    "documentation_pattern": "Markdown files in docs/ folder follow consistent structure with Overview, Key Files, Configuration sections",
    "env_var_pattern": "Environment variables accessed via process.env.VAR_NAME, documented with purpose, valid values, defaults",
    "table_format": "Documentation uses markdown tables for structured information (Variable | Required | Description | Default)"
  },
  "existing_implementations": {
    "description": "Environment variables scattered across multiple files: .env.example (4 vars), DOCKER_README.md (4 auth vars), docs/ai-features.md (2 AI vars with incorrect info)",
    "relevant_files": [
      ".env.example",
      "src/lib/ai.ts",
      "src/lib/db.ts",
      "DOCKER_README.md",
      "docs/ai-features.md"
    ],
    "environment_variables_found": {
      "required": ["MONGODB_URI", "AUTH_SECRET"],
      "required_in_docker": ["AUTH_URL"],
      "optional": ["AUTH_TRUST_HOST", "AI_API_KEY", "AI_PROVIDER", "AI_MODEL", "AI_ALLOWED_EMAILS"],
      "internal": ["NODE_ENV", "CI"]
    },
    "documentation_gaps": [
      ".env.example missing AUTH_URL and AUTH_TRUST_HOST",
      "docs/ai-features.md has incorrect information about AI_PROVIDER and AI_MODEL requirements",
      "No comprehensive environment variables documentation",
      "README.md doesn't reference environment configuration",
      "Inconsistent documentation across DOCKER_README.md and .env.example"
    ]
  }
}
